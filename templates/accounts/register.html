{% extends 'base.html' %} {% load static %} {% block title %}Register -
E-Commerce Site{% endblock %} {% block meta_description %}Create your E-Commerce
account to start shopping and manage your orders{% endblock %} {% block content
%}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow">
        <div class="card-header bg-success text-white text-center">
          <h3><i class="fas fa-user-plus"></i> Create Account</h3>
        </div>
        <div class="card-body p-4">
          {% if form.errors %}
          <div class="alert alert-danger">
            <h6>
              <i class="fas fa-exclamation-triangle"></i> Please correct the
              following errors:
            </h6>
            {% for field, errors in form.errors.items %} {% for error in errors
            %}
            <div>â€¢ {{ error }}</div>
            {% endfor %} {% endfor %}
          </div>
          {% endif %}

          <form method="post" novalidate>
            {% csrf_token %}

            <div class="row">
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label
                    for="{{ form.first_name.id_for_label }}"
                    class="form-label"
                  >
                    <i class="fas fa-user"></i> First Name
                  </label>
                  <input
                    type="text"
                    class="form-control {% if form.first_name.errors %}is-invalid{% endif %}"
                    id="{{ form.first_name.id_for_label }}"
                    name="{{ form.first_name.name }}"
                    value="{{ form.first_name.value|default:'' }}"
                    placeholder="Enter your first name"
                    required
                  />
                  {% if form.first_name.errors %}
                  <div class="invalid-feedback">
                    {{ form.first_name.errors.0 }}
                  </div>
                  {% endif %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label
                    for="{{ form.last_name.id_for_label }}"
                    class="form-label"
                  >
                    <i class="fas fa-user"></i> Last Name
                  </label>
                  <input
                    type="text"
                    class="form-control {% if form.last_name.errors %}is-invalid{% endif %}"
                    id="{{ form.last_name.id_for_label }}"
                    name="{{ form.last_name.name }}"
                    value="{{ form.last_name.value|default:'' }}"
                    placeholder="Enter your last name"
                    required
                  />
                  {% if form.last_name.errors %}
                  <div class="invalid-feedback">
                    {{ form.last_name.errors.0 }}
                  </div>
                  {% endif %}
                </div>
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="{{ form.username.id_for_label }}" class="form-label">
                <i class="fas fa-at"></i> Username
              </label>
              <input
                type="text"
                class="form-control {% if form.username.errors %}is-invalid{% endif %}"
                id="{{ form.username.id_for_label }}"
                name="{{ form.username.name }}"
                value="{{ form.username.value|default:'' }}"
                placeholder="Choose a username"
                required
              />
              {% if form.username.errors %}
              <div class="invalid-feedback">{{ form.username.errors.0 }}</div>
              {% endif %}
              <div class="form-text">
                Username must be unique and contain only letters, numbers, and
                @/./+/-/_ characters.
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="{{ form.email.id_for_label }}" class="form-label">
                <i class="fas fa-envelope"></i> Email Address
              </label>
              <input
                type="email"
                class="form-control {% if form.email.errors %}is-invalid{% endif %}"
                id="{{ form.email.id_for_label }}"
                name="{{ form.email.name }}"
                value="{{ form.email.value|default:'' }}"
                placeholder="Enter your email address"
                required
              />
              {% if form.email.errors %}
              <div class="invalid-feedback">{{ form.email.errors.0 }}</div>
              {% endif %}
            </div>

            <div class="form-group mb-3">
              <label for="{{ form.password1.id_for_label }}" class="form-label">
                <i class="fas fa-lock"></i> Password
              </label>
              <input
                type="password"
                class="form-control {% if form.password1.errors %}is-invalid{% endif %}"
                id="{{ form.password1.id_for_label }}"
                name="{{ form.password1.name }}"
                placeholder="Enter a strong password"
                required
              />
              {% if form.password1.errors %}
              <div class="invalid-feedback">{{ form.password1.errors.0 }}</div>
              {% endif %}
              <div class="form-text">
                <ul class="mb-0">
                  <li>Your password must contain at least 8 characters.</li>
                  <li>Your password can't be a commonly used password.</li>
                  <li>Your password can't be entirely numeric.</li>
                </ul>
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="{{ form.password2.id_for_label }}" class="form-label">
                <i class="fas fa-lock"></i> Confirm Password
              </label>
              <input
                type="password"
                class="form-control {% if form.password2.errors %}is-invalid{% endif %}"
                id="{{ form.password2.id_for_label }}"
                name="{{ form.password2.name }}"
                placeholder="Confirm your password"
                required
              />
              {% if form.password2.errors %}
              <div class="invalid-feedback">{{ form.password2.errors.0 }}</div>
              {% endif %}
            </div>

            <div class="form-check mb-4">
              <input
                class="form-check-input"
                type="checkbox"
                id="terms_agreement"
                required
              />
              <label class="form-check-label" for="terms_agreement">
                I agree to the
                <a href="#" class="text-decoration-none">Terms of Service</a>
                and <a href="#" class="text-decoration-none">Privacy Policy</a>
              </label>
            </div>

            <div class="form-check mb-4">
              <input
                class="form-check-input"
                type="checkbox"
                id="newsletter_subscribe"
              />
              <label class="form-check-label" for="newsletter_subscribe">
                Subscribe to our newsletter for updates and special offers
              </label>
            </div>

            <button type="submit" class="btn btn-success w-100 mb-3">
              <i class="fas fa-user-plus"></i> Create Account
            </button>
          </form>
        </div>
        <div class="card-footer text-center bg-light">
          <p class="mb-0">
            Already have an account?
            <a href="{% url 'accounts:login' %}" class="text-decoration-none">
              <i class="fas fa-sign-in-alt"></i> Login here
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Registration Benefits Section -->
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="text-center mb-4">
        <h4>Why Register with Us?</h4>
      </div>
      <div class="row text-center">
        <div class="col-md-3 mb-3">
          <div class="card h-100 border-0">
            <div class="card-body">
              <i class="fas fa-shipping-fast fa-3x text-primary mb-3"></i>
              <h6>Fast Shipping</h6>
              <p class="small text-muted">
                Quick and reliable delivery to your doorstep
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card h-100 border-0">
            <div class="card-body">
              <i class="fas fa-shield-alt fa-3x text-success mb-3"></i>
              <h6>Secure Shopping</h6>
              <p class="small text-muted">
                Your data and transactions are protected
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card h-100 border-0">
            <div class="card-body">
              <i class="fas fa-tags fa-3x text-warning mb-3"></i>
              <h6>Exclusive Deals</h6>
              <p class="small text-muted">
                Access to member-only discounts and offers
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card h-100 border-0">
            <div class="card-body">
              <i class="fas fa-headset fa-3x text-info mb-3"></i>
              <h6>24/7 Support</h6>
              <p class="small text-muted">Round-the-clock customer service</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Form validation
    const form = document.querySelector("form");
    const submitBtn = form.querySelector('button[type="submit"]');
    const password1 = document.getElementById(
      "{{ form.password1.id_for_label }}"
    );
    const password2 = document.getElementById(
      "{{ form.password2.id_for_label }}"
    );

    // Password confirmation validation
    password2.addEventListener("input", function () {
      if (password1.value !== password2.value) {
        password2.setCustomValidity("Passwords do not match");
        password2.classList.add("is-invalid");
      } else {
        password2.setCustomValidity("");
        password2.classList.remove("is-invalid");
      }
    });

    form.addEventListener("submit", function (e) {
      const termsCheckbox = document.getElementById("terms_agreement");

      if (!termsCheckbox.checked) {
        e.preventDefault();
        showAlert(
          "You must agree to the Terms of Service to register",
          "danger"
        );
        return;
      }

      if (!validateForm(this)) {
        e.preventDefault();
        showAlert("Please fill in all required fields correctly", "danger");
      } else {
        submitBtn.innerHTML =
          '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
        submitBtn.disabled = true;
      }
    });

    // Auto-focus on first input
    const firstInput = form.querySelector('input[type="text"]');
    if (firstInput) {
      firstInput.focus();
    }

    // Username availability check (if you want to implement this)
    const usernameInput = document.getElementById(
      "{{ form.username.id_for_label }}"
    );
    let usernameTimeout;

    usernameInput.addEventListener("input", function () {
      clearTimeout(usernameTimeout);
      const username = this.value.trim();

      if (username.length >= 3) {
        usernameTimeout = setTimeout(() => {
          // You can implement username availability check here
          checkUsernameAvailability(username);
        }, 500);
      }
    });
  });
</script>
{% endblock %}
