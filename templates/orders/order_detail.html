```html {% extends 'base.html' %} {% block title %}Order #{{ order.id }} -
E-Commerce Store{% endblock %} {% block content %}
<div class="container my-5">
  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div
          class="card-header d-flex justify-content-between align-items-center"
        >
          <h4>Order #{{ order.id }}</h4>
          <span
            class="badge bg-{% if order.status == 'delivered' %}success{% elif order.status == 'shipped' %}info{% elif order.status == 'processing' %}warning{% else %}secondary{% endif %} fs-6"
          >
            {{ order.get_status_display }}
          </span>
        </div>
        <div class="card-body">
          <div class="row mb-4">
            <div class="col-md-6">
              <h6>Order Information</h6>
              <p class="mb-1">
                <strong>Order Date:</strong> {{ order.created_at|date:"M d, Y
                H:i" }}
              </p>
              <p class="mb-1">
                <strong>Payment Method:</strong> {{ order.payment_method|title
                }}
              </p>
              <p class="mb-1">
                <strong>Payment Status:</strong>
                <span
                  class="badge bg-{% if order.payment_status == 'paid' %}success{% elif order.payment_status == 'pending' %}warning{% else %}danger{% endif %}"
                >
                  {{ order.get_payment_status_display }}
                </span>
              </p>
            </div>
            <div class="col-md-6">
              <h6>Shipping Address</h6>
              <p class="mb-1">{{ order.first_name }} {{ order.last_name }}</p>
              <p class="mb-1">{{ order.address }}</p>
              <p class="mb-1">
                {{ order.city }}, {{ order.state }} {{ order.zip_code }}
              </p>
              <p class="mb-1">{{ order.phone }}</p>
            </div>
          </div>

          <h6>Order Items</h6>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Price</th>
                  <th>Quantity</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody>
                {% for item in order.items.all %}
                <tr>
                  <td>
                    <div class="d-flex align-items-center">
                      {% if item.product.image %}
                      <img
                        src="{{ item.product.image.url }}"
                        class="me-3"
                        style="width: 50px; height: 50px; object-fit: cover"
                        alt="{{ item.product.name }}"
                      />
                      {% endif %}
                      <div>
                        <h6 class="mb-0">{{ item.product.name }}</h6>
                        <small class="text-muted"
                          >{{ item.product.category.name }}</small
                        >
                      </div>
                    </div>
                  </td>
                  <td>${{ item.price }}</td>
                  <td>{{ item.quantity }}</td>
                  <td>${{ item.get_total_price }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h5>Order Summary</h5>
        </div>
        <div class="card-body">
          <div class="d-flex justify-content-between mb-2">
            <span>Subtotal:</span>
            <span>${{ order.subtotal }}</span>
          </div>
          <div class="d-flex justify-content-between mb-2">
            <span>Shipping:</span>
            <span>${{ order.shipping_cost|default:"0.00" }}</span>
          </div>
          <div class="d-flex justify-content-between mb-2">
            <span>Tax:</span>
            <span>${{ order.tax_amount|default:"0.00" }}</span>
          </div>
          <hr />
          <div class="d-flex justify-content-between mb-3">
            <strong>Total:</strong>
            <strong>${{ order.total_amount }}</strong>
          </div>

          {% if order.status == 'delivered' %}
          <button class="btn btn-primary w-100 mb-2">Download Invoice</button>
          {% endif %}

          <a
            href="{% url 'order_history' %}"
            class="btn btn-outline-secondary w-100"
            >Back to Orders</a
          >
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %} ```
